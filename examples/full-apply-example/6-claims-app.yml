version: v2-alpha
kind: Application
name: claims-simple-app

streaming:
  - in-topic: i1
    out-topic: o1
  - in-topic: i2
    out-topic: o2

singular:
  monitoring:
    - name: ks
      input: feature_42
      type: kolmogorov-smirnov
      healthcheck:
        enabled: true
        treshold: 69
    - name: gan
      input: feature
      type: gan
      app: claims-autoencoder-app
      healthcheck:
        enabled: true
        treshold: 69
    - name: autoencoder
      input: feature
      type: autoencoder
      app: claims-autoencoder-app
      healthcheck:
        enabled: true
        treshold: 69
  model: claims-model-new:2
  runtime: hydrosphere/serving-runtime-python:3.6-latest