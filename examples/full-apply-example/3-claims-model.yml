kind: Model
name: apply-demo-claims-model
payload:
  - ./   # mocked path to real model files
runtime: hydrosphere/serving-runtime-python:3.6-latest
# host-selector: xeon-cpu
#training-data: s3://bucket/object.csv
metadata:
  author: cool-data-stan
  type: example
  class: org.apache.spark.ml.PipelineModel
  timestamp: 1497440372794
  sparkVersion: 2.1.1
  uid: PipelineModel_4ccbbca3d107857d3ed8

contract:
  inputs:
    client_profile:
      shape: [112]
      type: float64 # using tf type names instead of proto ones
      profile: text # data profiling
  outputs:
    amount:
      shape: scalar
      type: int64
      profile: real

monitoring:
  - name: ks
    kind: KSMetricSpec
    config:
      input: client_profile_42
    with-health: true
  - name: gan
    kind: GANMetricSpec
    with-health: true
    config:
      input: feature
      application: claims-gan-app
  - name: autoencoder
    kind: AEMetricSpec
    with-health: true
    config:
      application: claims-autoencoder-app
      input: feature
      threshold: 69