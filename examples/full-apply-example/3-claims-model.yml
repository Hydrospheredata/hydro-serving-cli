version: 2
kind: Model
name: apply-demo-claims-model
model-type: python:3.6
payload:
  - /path/to/model
runtime: hydrosphere/serving-runtime-python:3.6-latest
# host-selector: xeon-cpu
training-data: s3://bucket/object.csv
contract:
  claim:
    inputs:
      client_profile:
        shape: [112]
        type: float64 # using tf type names instead of proto ones
        profile: text # data profiling
    outputs:
      amount:
        shape: scalar
        type: int64
        profile: real

monitoring:
  - name: ks
    kind: Kolmogorov-Smirnov
    config:
      input: client_profile_42
    with-health: true
  - name: gan
    kind: GAN
    with-health: true
    config:
      input: feature
      application-name: claims-gan-app
      treshold: 69
  - name: autoencoder
    kind: Autoencoder
    with-health: true
    config:
      application-name: claims-autoencoder-app
      input: feature
      treshold: 69